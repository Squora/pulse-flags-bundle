# –ü–ª–∞–Ω –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏ Pulse Flags Bundle

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è**: 83 PHP –∫–ª–∞—Å—Å–∞
- **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å**: ‚úÖ CompositeContext (18 —Ç–µ—Å—Ç–æ–≤)
- **–¶–µ–ª—å**: 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, 80%+ –æ–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
- **P0** - –ö—Ä–∏—Ç–∏—á–Ω–æ (Core –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ)
- **P1** - –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- **P2** - –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- **P3** - –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

## –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤
- **Unit** - –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ —Å mock-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **Integration** - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Functional** - End-to-end —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API

---

## 1. Context (Value Objects) - P0

### –°—Ç–∞—Ç—É—Å: üü° –ß–∞—Å—Ç–∏—á–Ω–æ –ø–æ–∫—Ä—ã—Ç–æ (1/9)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| CompositeContext | P0 | Low | Unit | ‚úÖ –ì–æ—Ç–æ–≤–æ (18 tests) |
| UserContext | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| GeoContext | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| DateRangeContext | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| CustomAttributeContext | P0 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| SegmentContext | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| IpContext | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| EmptyContext | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –ú–µ—Ç–æ–¥—ã getter'–æ–≤
- ‚úÖ –ú–µ—Ç–æ–¥ `toArray()` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ null –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Edge cases (–ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã, etc.)

### Best Practices:
- AAA —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Data providers –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- Named constructors testing
- Type safety –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## 2. Strategy (Core –ª–æ–≥–∏–∫–∞) - P0

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/9)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| PercentageStrategy | P0 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| UserIdStrategy | P0 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| SimpleStrategy | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| CompositeStrategy | P0 | High | Unit + Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| DateRangeStrategy | P0 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| GeoStrategy | P1 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| IpStrategy | P1 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| SegmentStrategy | P1 | High | Unit + Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| CustomAttributeStrategy | P1 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| ProgressiveRolloutStrategy | P1 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

#### PercentageStrategy (–∫—Ä–∏—Ç–∏—á–Ω–æ!)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)
- ‚úÖ –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã)
- ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ (0%, 50%, 100%)
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ userId –ø—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ hash –∞–ª–≥–æ—Ä–∏—Ç–º—ã (MD5, SHA256, etc.)
- ‚úÖ Salt –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚ö†Ô∏è **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã**: —Ç–µ—Å—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –≤—ã–±–æ—Ä–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### UserIdStrategy
- ‚úÖ Whitelist/blacklist –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚úÖ –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ userId
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö userId
- ‚úÖ Case sensitivity
- ‚úÖ –ü—É—Å—Ç—ã–µ —Å–ø–∏—Å–∫–∏

#### SimpleStrategy
- ‚úÖ –í—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### CompositeStrategy
- ‚úÖ AND –ª–æ–≥–∏–∫–∞ (–≤—Å–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–π—Ç–∏)
- ‚úÖ OR –ª–æ–≥–∏–∫–∞ (—Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è)
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ (short-circuit evaluation)
- ‚úÖ –ü—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚úÖ –í–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚ö†Ô∏è **Integration —Ç–µ—Å—Ç—ã** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏

#### DateRangeStrategy
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ (before, after, between)
- ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏)
- ‚úÖ Timezone handling
- ‚úÖ DateTime vs timestamp
- ‚úÖ –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞—Ç—ã

#### GeoStrategy
- ‚úÖ –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã, —Ä–µ–≥–∏–æ–Ω–∞, –≥–æ—Ä–æ–¥–∞
- ‚úÖ Case insensitivity
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
- ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ —Å—Ç—Ä–∞–Ω–∞ –±–µ–∑ –≥–æ—Ä–æ–¥–∞)

#### IpStrategy
- ‚úÖ IP –≤ whitelist/blacklist
- ‚úÖ CIDR –¥–∏–∞–ø–∞–∑–æ–Ω—ã
- ‚úÖ IPv4 –∏ IPv6
- ‚úÖ –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ IP
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç whitelist vs blacklist

#### SegmentStrategy
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ —Å–µ–≥–º–µ–Ω—Ç–∞–º
- ‚úÖ Static vs Dynamic —Å–µ–≥–º–µ–Ω—Ç—ã
- ‚úÖ –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–µ–≥–º–µ–Ω—Ç—ã
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã

#### CustomAttributeStrategy
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (equals, contains, regex, etc.)
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
- ‚úÖ Type coercion
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã

#### ProgressiveRolloutStrategy
- ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–∞
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
- ‚úÖ –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
- ‚úÖ –ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ñ–∞–∑

### Best Practices:
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã data providers –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- Mock –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (SegmentRepository, etc.)
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

---

## 3. Strategy/Operator - P0

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/14)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| EqualsOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| NotEqualsOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| GreaterThanOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| GreaterThanOrEqualsOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| LessThanOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| LessThanOrEqualsOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| InOperator | P0 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| NotInOperator | P0 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| ContainsOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| NotContainsOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| StartsWithOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| EndsWithOperator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| RegexOperator | P0 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (string, int, float, bool)
- ‚úÖ Type juggling –∏ strict comparison
- ‚úÖ Edge cases (null, –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, 0, false)
- ‚úÖ Case sensitivity –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ regex –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–¥–ª—è RegexOperator)
- ‚úÖ Unicode –∏ multibyte —Å—Ç—Ä–æ–∫–∏
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### Best Practices:
- –û–¥–∏–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∫–ª–∞—Å—Å –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä
- Data providers —Å –º–∞—Ç—Ä–∏—Ü–µ–π –∑–Ω–∞—á–µ–Ω–∏–π (value, expected, description)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã (–Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

---

## 4. Strategy/Validation - P0

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/13)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| ValidationService | P0 | High | Unit + Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| ValidationResult | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| ValidationException | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| SimpleStrategyValidator | P0 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| PercentageStrategyValidator | P0 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| UserIdStrategyValidator | P0 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| CompositeStrategyValidator | P0 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| DateRangeStrategyValidator | P1 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| GeoStrategyValidator | P1 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| IpStrategyValidator | P1 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| SegmentStrategyValidator | P1 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| CustomAttributeStrategyValidator | P1 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| ProgressiveRolloutStrategyValidator | P1 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

#### ValidationService
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤
- ‚úÖ –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ –ø–æ —Ç–∏–ø—É —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –ê–≥—Ä–µ–≥–∞—Ü–∏—è –æ—à–∏–±–æ–∫
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚ö†Ô∏è **Integration**: –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ —Ñ–ª–∞–≥–∞

#### ValidationResult
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å –æ—à–∏–±–∫–∞–º–∏
- ‚úÖ –ú–µ—Ç–æ–¥—ã isValid(), getErrors(), hasErrors()
- ‚úÖ Immutability

#### –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–π (–ø—Ä–æ—Ü–µ–Ω—Ç—ã 0-100, etc.)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤ (IP, regex, dates)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –ø–æ–ª—è–º–∏
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### Best Practices:
- Data providers —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ –∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ edge cases
- –ù–µ–≥–∞—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## 5. Storage - P0

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/3)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| YamlStorage | P0 | High | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| PhpStorage | P0 | Medium | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| DbStorage | P1 | High | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

#### YamlStorage
- ‚úÖ –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å YAML —Ñ–∞–π–ª–æ–≤
- ‚úÖ get(), set(), remove(), has(), all()
- ‚úÖ Pagination (paginate –º–µ—Ç–æ–¥)
- ‚úÖ clear() –æ—á–∏—Å—Ç–∫–∞
- ‚úÖ –ê—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π (file locking)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã—Ö YAML
- ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
- ‚úÖ Concurrent access handling
- ‚ö†Ô∏è **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏** (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)

#### PhpStorage
- ‚úÖ –ß—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å PHP —Ñ–∞–π–ª–æ–≤
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ StorageInterface
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (PHP injection prevention)
- ‚úÖ OPcache invalidation
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ PHP

#### DbStorage
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ PDO/Doctrine
- ‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ Connection handling
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å—Ö–µ–º—ã
- ‚úÖ Query performance
- ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å in-memory SQLite –¥–ª—è —Ç–µ—Å—Ç–æ–≤**

### Best Practices:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å vfsStream –∏–ª–∏ tmp –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- Teardown –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å concurrent access
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å file permissions
- Integration —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏/–ë–î

---

## 6. Service - P0

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/3)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| AbstractFeatureFlagServiceService | P0 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| PersistentFeatureFlagService | P0 | High | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| PermanentFeatureFlagService | P0 | Medium | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

#### AbstractFeatureFlagServiceService
- ‚úÖ isEnabled() –ª–æ–≥–∏–∫–∞
- ‚úÖ –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–ª–∞–≥–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ disabled —Ñ–ª–∞–≥–æ–≤
- ‚úÖ Context processing
- ‚úÖ Fallback –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ Error handling

#### PersistentFeatureFlagService
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Storage
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ñ–ª–∞–≥–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ ValidationService
- ‚úÖ Enable/Disable —Ñ–ª–∞–≥–æ–≤
- ‚ö†Ô∏è **Integration —Ç–µ—Å—Ç—ã** —Å mock Storage

#### PermanentFeatureFlagService
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å immutable —Ñ–ª–∞–≥–∞–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ runtime

### Best Practices:
- Mock –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Storage, StrategyInterface)
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ flow
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ error scenarios
- Performance —Ç–µ—Å—Ç—ã

---

## 7. Segment - P1

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/3)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| StaticSegment | P1 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| DynamicSegment | P1 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| SegmentRepository | P1 | Medium | Unit + Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

#### StaticSegment
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ userId
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### DynamicSegment
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π (callable/closure)
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
- ‚úÖ Performance –Ω–∞ –±–æ–ª—å—à–∏—Ö –≤—ã–±–æ—Ä–∫–∞—Ö

#### SegmentRepository
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- ‚úÖ –ü–æ–∏—Å–∫ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –ø–æ –∏–º–µ–Ω–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ–≥–º–µ–Ω—Ç–µ
- ‚úÖ Listing –≤—Å–µ—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤

### Best Practices:
- Data providers –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- Mock callable –¥–ª—è DynamicSegment
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è repository

---

## 8. Strategy/Hash - P0

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/1)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| HashCalculator | P0 | High | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Ö–µ—à–∞ –¥–ª—è –æ–¥–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ hash –∞–ª–≥–æ—Ä–∏—Ç–º—ã (MD5, SHA1, SHA256)
- ‚úÖ Salt –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
- ‚úÖ –†–∞–≤–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã)
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- ‚úÖ Edge cases (–ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, unicode, –¥–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏)
- ‚ö†Ô∏è **–ö—Ä–∏—Ç–∏—á–Ω–æ**: —Ç–µ—Å—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ –≤—ã–±–æ—Ä–∫–∞–º–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

### Best Practices:
- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (chi-square test)
- Benchmark —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- Data providers –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

---

## 9. Command - P2

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/10)

| –ì—Ä—É–ø–ø–∞ | –ö–æ–º–∞–Ω–¥—ã | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|--------|---------|-----------|-----------|-----|--------|
| Flag | Create, Enable, Disable, Remove | P2 | Medium | Functional | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| Query | Check, List, Test, Validate | P2 | Medium | Functional | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| Segment | List | P2 | Low | Functional | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| Setup | InitStorage | P2 | Medium | Functional | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ Output –ø—Ä–æ–≤–µ—Ä–∫–∞ (stdout/stderr)
- ‚úÖ Exit codes
- ‚úÖ Interactive mode
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏

### Best Practices:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CommandTester –æ—Ç Symfony
- Mock —Å–µ—Ä–≤–∏—Å—ã
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å output messages
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## 10. Enum - P3

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/5)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| FlagStatus | P3 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| FlagStrategy | P3 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| AttributeOperator | P3 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| HashAlgorithm | P3 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| StorageFormat | P3 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –í—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è enum –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –ú–µ—Ç–æ–¥—ã (–µ—Å–ª–∏ –µ—Å—Ç—å –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞)
- ‚úÖ Serialization/Deserialization

### Best Practices:
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (enum'—ã –ø—Ä–æ—Å—Ç—ã–µ)
- Smoke tests –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ

---

## 11. DependencyInjection - P1

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/3)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| PulseFlagsExtension | P1 | High | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| Configuration | P1 | Medium | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| FlagsConfigurationLoader | P1 | High | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

#### PulseFlagsExtension
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ Compiler passes
- ‚úÖ Autowiring
- ‚úÖ Service tags

#### Configuration
- ‚úÖ –î–µ—Ä–µ–≤–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥–∞
- ‚úÖ Default –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### FlagsConfigurationLoader
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–ª–∞–≥–æ–≤ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ú–µ—Ä–∂ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤

### Best Practices:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ContainerBuilder –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π boot –ø—Ä–æ—Ü–µ—Å—Å
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å service definitions
- Functional —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º kernel

---

## 12. Twig - P2

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/1)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| FeatureFlagExtension | P2 | Medium | Integration | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –§—É–Ω–∫—Ü–∏—è/—Ñ–∏–ª—å—Ç—Ä `is_enabled()`
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FeatureFlagService
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ —à–∞–±–ª–æ–Ω–∞—Ö
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Best Practices:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IntegrationTestCase –æ—Ç Twig
- Mock FeatureFlagService
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ twig –≤—ã—Ä–∞–∂–µ–Ω–∏—è

---

## 13. Constants - P3

### –°—Ç–∞—Ç—É—Å: üî¥ –ù–µ –ø–æ–∫—Ä—ã—Ç–æ (0/2)

| –ö–ª–∞—Å—Å | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å |
|-------|-----------|-----------|-----|--------|
| Pagination | P3 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |
| PercentageStrategy | P3 | Low | Unit | ‚è≥ –¢—Ä–µ–±—É–µ—Ç—Å—è |

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

### Best Practices:
- –ü—Ä–æ—Å—Ç—ã–µ smoke tests

---

## Roadmap –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (P0) - ~2-3 –Ω–µ–¥–µ–ª–∏
**–¶–µ–ª—å**: –ü–æ–∫—Ä—ã—Ç—å core –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É

1. **Contexts (7 –∫–ª–∞—Å—Å–æ–≤)** - 1 –Ω–µ–¥–µ–ª—è
   - UserContext, GeoContext, DateRangeContext
   - CustomAttributeContext, SegmentContext, IpContext, EmptyContext

2. **Operators (13 –∫–ª–∞—Å—Å–æ–≤)** - 1 –Ω–µ–¥–µ–ª—è
   - –í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
   - RegexOperator (–∫—Ä–∏—Ç–∏—á–µ–Ω)

3. **HashCalculator (1 –∫–ª–∞—Å—Å)** - 2-3 –¥–Ω—è
   - –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

4. **Strategies (9 –∫–ª–∞—Å—Å–æ–≤)** - 1.5 –Ω–µ–¥–µ–ª–∏
   - PercentageStrategy, UserIdStrategy, SimpleStrategy
   - CompositeStrategy, DateRangeStrategy
   - GeoStrategy, IpStrategy, SegmentStrategy
   - CustomAttributeStrategy, ProgressiveRolloutStrategy

5. **Validation (13 –∫–ª–∞—Å—Å–æ–≤)** - 1 –Ω–µ–¥–µ–ª—è
   - ValidationService, ValidationResult
   - –í—Å–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

6. **Storage (3 –∫–ª–∞—Å—Å–∞)** - 3-4 –¥–Ω—è
   - YamlStorage, PhpStorage, DbStorage

7. **Services (3 –∫–ª–∞—Å—Å–∞)** - 3-4 –¥–Ω—è
   - AbstractFeatureFlagServiceService
   - PersistentFeatureFlagService
   - PermanentFeatureFlagService

### –§–∞–∑–∞ 2: –í–∞–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (P1) - ~1-2 –Ω–µ–¥–µ–ª–∏

1. **Segments (3 –∫–ª–∞—Å—Å–∞)** - 2-3 –¥–Ω—è
2. **DependencyInjection (3 –∫–ª–∞—Å—Å–∞)** - 3-4 –¥–Ω—è
3. **–ù–µ–¥–æ–ø–æ–∫—Ä—ã—Ç—ã–µ Strategy** - 2-3 –¥–Ω—è

### –§–∞–∑–∞ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (P2) - ~1 –Ω–µ–¥–µ–ª—è

1. **Commands (10 –∫–ª–∞—Å—Å–æ–≤)** - 4-5 –¥–Ω–µ–π
2. **Twig Extension (1 –∫–ª–∞—Å—Å)** - 1 –¥–µ–Ω—å

### –§–∞–∑–∞ 4: –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (P3) - ~2-3 –¥–Ω—è

1. **Enums (5 –∫–ª–∞—Å—Å–æ–≤)** - 1 –¥–µ–Ω—å
2. **Constants (2 –∫–ª–∞—Å—Å–∞)** - 1 –¥–µ–Ω—å

---

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### Code Coverage —Ü–µ–ª–∏
- **Contexts**: 100%
- **Strategies**: 95%+
- **Operators**: 100%
- **Validators**: 95%+
- **Storage**: 90%+
- **Services**: 90%+
- **–û—Å—Ç–∞–ª—å–Ω–æ–µ**: 80%+

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç AAA —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- ‚úÖ Data providers –≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ (>3 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤)
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤ (it_should_*, when_*_then_*)
- ‚úÖ –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏)
- ‚úÖ Fast tests (<10ms –Ω–∞ unit —Ç–µ—Å—Ç)
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (0% flaky tests)

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **–ú–∏–Ω–∏–º—É–º —Ç–µ—Å—Ç–æ–≤**: 300+
- **–ú–∏–Ω–∏–º—É–º assertions**: 800+
- **Coverage**: 85%+
- **Mutation score**: 75%+ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è infection)

---

## Best Practices –¥–ª—è –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤
```php
#[Test]
public function it_should_do_something_when_condition(): void
{
    // Arrange - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    $dependency = $this->createMock(DependencyInterface::class);
    $sut = new SystemUnderTest($dependency);

    // Act - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
    $result = $sut->doSomething();

    // Assert - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    self::assertSame($expected, $result);
}
```

### 2. Data Providers
```php
#[Test]
#[DataProvider('provideValidInputs')]
public function it_handles_various_inputs(mixed $input, mixed $expected): void
{
    // ...
}

public static function provideValidInputs(): iterable
{
    yield 'descriptive name for scenario 1' => [
        'input' => 'value1',
        'expected' => 'result1',
    ];
    // ...
}
```

### 3. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç—ã: `it_should_*`, `it_can_*`, `it_returns_*`, `it_throws_*`
- Data provider cases: –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `$sut` (system under test), –≥–æ–≤–æ—Ä—è—â–∏–µ –∏–º–µ–Ω–∞

### 4. Mock Objects
```php
$mock = $this->createMock(InterfaceType::class);
$mock->method('someMethod')
     ->willReturn($expectedValue);

$mock->expects(self::once())
     ->method('someMethod')
     ->with(self::equalTo($expectedArg));
```

### 5. Assertions
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `assertSame()` –≤–º–µ—Å—Ç–æ `assertEquals()` –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ assertions (`assertCount`, `assertEmpty`, etc.)
- –î–æ–±–∞–≤–ª—è—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏: `self::assertTrue($value, 'Should be enabled')`

### 6. Edge Cases –≤—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- null values
- –ü—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏/–º–∞—Å—Å–∏–≤—ã
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (0, -1, MAX_INT)
- Unicode/multibyte —Å—Ç—Ä–æ–∫–∏
- –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### 7. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≥–¥–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π flow end-to-end
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å test fixtures
- Cleanup –≤ tearDown()

---

## –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### PHPUnit –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```xml
<coverage>
    <report>
        <html outputDirectory="var/coverage/html"/>
        <text outputFile="php://stdout" showUncoveredFiles="true"/>
    </report>
</coverage>
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞–∫–µ—Ç—ã
- `phpunit/phpunit` - ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `symfony/phpunit-bridge` - ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `infection/infection` - ‚è≥ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (mutation testing)
- `phpstan/phpstan` - ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- `vimeo/psalm` - ‚è≥ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

### CI/CD
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π commit
- Coverage –æ—Ç—á–µ—Ç—ã
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ coverage (85%)
- Mutation testing –≤ nightly builds

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### –ì–æ—Ç–æ–≤–æ ‚úÖ
- CompositeContext: 18 —Ç–µ—Å—Ç–æ–≤, 26 assertions

### –í —Ä–∞–±–æ—Ç–µ üü°
- _–ü–æ–∫–∞ –ø—É—Å—Ç–æ_

### –û–∂–∏–¥–∞–µ—Ç üî¥
- –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—Å–Ω–æ roadmap

---

## –ó–∞–º–µ—Ç–∫–∏

1. **–°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã** –¥–ª—è PercentageStrategy –∏ HashCalculator –∫—Ä–∏—Ç–∏—á–Ω—ã - –±–µ–∑ –Ω–∏—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

2. **Integration —Ç–µ—Å—Ç—ã** –¥–ª—è Storage –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏/–ë–î (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tmp –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ in-memory SQLite)

3. **Performance —Ç–µ—Å—Ç—ã** –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö)

4. **Security —Ç–µ—Å—Ç—ã** –¥–ª—è PhpStorage –∏ DbStorage (injection prevention)

5. **Concurrent access —Ç–µ—Å—Ç—ã** –¥–ª—è file-based storage

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-12-22
**–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞**: 1.0
