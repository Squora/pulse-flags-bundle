# PulseFlags Bundle Configuration
# This is the default configuration - copy to your config/packages/pulse_flags.yaml and customize

pulse_flags:
    # Storage format for permanent (read-only) flags loaded from config files
    permanent_storage: yaml  # Options: yaml, ini, php

    # Storage backend for persistent (runtime mutable) flags
    persistent_storage: db  # Database storage (MySQL, PostgreSQL, SQLite)

    # Database configuration
    db:
        dsn: '%env(resolve:DATABASE_URL)%'
        user: ~  # Optional: extracted from DSN if null
        password: ~  # Optional: extracted from DSN if null
        table: 'pulse_feature_flags'

    # Admin panel configuration
    admin:
        require_confirmation: true

    # Segments configuration (optional)
    # Define reusable user groups for segment-based feature flags
    segments:
        # Static segment - explicit list of user IDs
        premium_users:
            type: static
            user_ids: ['1', '2', '3', '123', '456']

        beta_testers:
            type: static
            user_ids: ['10', '20', '30']

        # Dynamic segment - email domain matching
        internal_team:
            type: dynamic
            condition: email_domain
            value: company.com

        # Dynamic segment - country matching
        us_users:
            type: dynamic
            condition: country
            value: US
